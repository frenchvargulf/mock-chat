(window["webpackJsonpchat-app"]=window["webpackJsonpchat-app"]||[]).push([[0],{135:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(14),o=n.n(s),i=(n(58),n(2)),c=n(3),u=n(5),l=n(4),m=n(6),p=(n(59),n(60),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={username:""},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onSubmit",value:function(e){e.preventDefault(),this.props.onSubmit(this.state.username)}},{key:"onChange",value:function(e){this.setState({username:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"welcome-section"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("h2",{className:"login-header"},"Login"),r.a.createElement("h3",{className:"login-instructions"},"Username"),r.a.createElement("form",{onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("input",{type:"text",placeholder:"Please type in User",onChange:function(t){return e.onChange(t)}}))))}}]),t}(a.Component)),h=n(9),d=n(8),f=(n(25),n(23)),b=n.n(f),g=(n(73),n(43)),v=n.n(g),y=n(44),j=n.n(y),E=function(e){var t=e.src,n=e.type;return r.a.createElement("img",{src:t,alt:t,className:"file"==n?"emojis":"images"})},O=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("li",{key:this.props.id,className:"message-cnt"},r.a.createElement("div",{style:{width:"50px",height:"50px",backgroundImage:"grey"},className:"avatar-container"},r.a.createElement("img",{src:"User"===this.props.senderId?"".concat(j.a):"".concat(v.a)})),r.a.createElement("div",{className:"info-container"},r.a.createElement("div",{className:"sender"},r.a.createElement("span",{className:"message-time"},this.props.time),r.a.createElement("div",{className:"message-sender"},this.props.senderId)),r.a.createElement("div",{className:"Message"},this.props.text,this.props.linktext?r.a.createElement("a",{href:this.props.linktext},"link"):null,null!=this.props.media?r.a.createElement(E,{src:this.props.media.link,type:this.props.media.type}):null)))}}]),t}(a.Component),k=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.typingUsers.length>0?r.a.createElement("div",{className:"typing-div"},"".concat(this.props.typingUsers.slice(0,2).join(" and ")," is typing")):r.a.createElement("div",null)}}]),t}(a.Component),w=(n(17),n(16));n(18);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach((function(t){Object(w.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"renderUsers",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"user"},r.a.createElement("div",{className:"room-title"},"CHATT APP"),r.a.createElement("div",{className:"user-title"},this.props.users.map((function(t,n){if(t.id===e.props.currentUser.id)return r.a.createElement(N,{key:n,presenceState:"online"},t.name," (You)")})))),r.a.createElement("h3",{className:"room-title"},"Users Online"),r.a.createElement("ul",null,this.props.users.map((function(t,n){return t.id===e.props.currentUser.id?null:r.a.createElement(N,{key:n,presenceState:t.presence.state},t.name,r.a.createElement("div",{className:"send-dm-btn",onClick:function(n){return e.props.sendDM(t)}},"+"))}))))}},{key:"render",value:function(){return this.props.users?this.renderUsers():r.a.createElement("p",null,"Loading...")}}]),t}(a.Component),N=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e={li:{display:"flex",alignItems:"center",marginTop:5,marginBottom:5,paddingTop:2,paddingBottom:2},div:{borderRadius:"50%",width:11,height:11,marginRight:10}};return r.a.createElement("li",{style:e.li},r.a.createElement("div",{style:S({},e.div,{backgroundColor:"online"===this.props.presenceState?"#539eff":"#414756"})}),this.props.children)}}]),t}(a.Component),M=R,C=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.room.id===this.props.currentRoom.id?"active":"";return r.a.createElement("li",{className:t,key:this.props.room.id},r.a.createElement("a",{key:this.props.room.id,onClick:function(t){e.props.subscribeToRoom(e.props.room.id)}},r.a.createElement("span",{className:"room-name"}," # ",this.props.room.name," "),this.props.room.unreadCount>0?r.a.createElement("span",{className:"room-unread"},this.props.room.unreadCount):null))}}]),t}(r.a.Component),I=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=Object(h.a)(this.props.rooms).sort((function(e,t){return e.id>t.id}));return r.a.createElement("div",{className:"rooms-list"},r.a.createElement("h3",{className:"room-title"},"Channels"),r.a.createElement("ul",null,t.map((function(t){return t.isPrivate?null:r.a.createElement(C,{key:t.id,currentRoom:e.props.currentRoom,room:t,subscribeToRoom:e.props.subscribeToRoom})}))),r.a.createElement("h3",{className:"room-title"},"Direct Messages"),r.a.createElement("ul",null,t.map((function(t){return t.isPrivate?r.a.createElement(C,{key:t.id,currentRoom:e.props.currentRoom,room:t,subscribeToRoom:e.props.subscribeToRoom}):null}))))}}]),t}(r.a.Component),P=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).state={roomName:""},e.handleChange=e.handleChange.bind(Object(d.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(d.a)(e)),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState({roomName:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.createRoom(this.state.roomName),this.setState({roomName:""})}},{key:"render",value:function(){return r.a.createElement("div",{className:"new-room-form-container"},r.a.createElement("h3",{className:"room-title"},"Create new room"),r.a.createElement("form",{className:"new-room-form",onSubmit:this.handleSubmit},r.a.createElement("input",{value:this.state.roomName,onChange:this.handleChange,type:"text",placeholder:"Create a room",className:"room-input"})))}}]),t}(r.a.Component),D=n(15),x=n.n(D),T=n(45),_=n(46),z=n.n(_);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach((function(t){Object(w.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).isPainting=!1,n.colors=[n.userStrokeStyle,n.user1StrokeStyle,n.user2StrokeStyle],n.userStrokeStyle="#EE92C2",n.user1StrokeStyle="#F0C987",n.user2StrokeStyle="dodgerblue",n.line=[],n.userId=n.props.currentUser.id,n.prevPos={offsetX:0,offsetY:0},n.state={userId:n.props.currentUser.id,line:[],users:n.props.currentUser.users,userIds:n.props.currentUser.users.map((function(e){return e.id})),data:[]},n.pusher=new z.a("4f21d161f02e7ab3f286",{cluster:"eu"}),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onMouseDown",value:function(e){var t=e.nativeEvent,n=t.offsetX,a=t.offsetY;this.isPainting=!0,this.prevPos={offsetX:n,offsetY:a}}},{key:"onMouseMove",value:function(e){var t=e.nativeEvent;if(this.isPainting){var n={offsetX:t.offsetX,offsetY:t.offsetY};this.position={start:A({},this.prevPos),stop:A({},n)},this.line=this.line.concat(this.position),this.paint(this.prevPos,n,this.userStrokeStyle)}}},{key:"endPaintEvent",value:function(){this.isPainting&&(this.isPainting=!1,this.sendPaintData())}},{key:"paint",value:function(e,t,n){var a=t.offsetX,r=t.offsetY,s=e.offsetX,o=e.offsetY;this.ctx.beginPath(),this.ctx.strokeStyle=n,this.ctx.moveTo(s,o),this.ctx.lineTo(a,r),this.ctx.stroke(),this.prevPos={offsetX:a,offsetY:r}}},{key:"sendPaintData",value:function(){var e=Object(T.a)(x.a.mark((function e(){var t,n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={userId:this.userId,line:this.line},e.next=3,fetch("http://localhost:4000/paint",{method:"post",body:JSON.stringify(t),headers:{"content-type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,console.log(a),this.line=[];case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){Promise.resolve()}},{key:"componentDidMount",value:function(){var e=this;this.canvas.width=1e3,this.canvas.height=800,this.ctx=this.canvas.getContext("2d"),this.ctx.lineJoin="round",this.ctx.lineCap="round",this.ctx.lineWidth=5,this.pusher.subscribe("painting").bind("draw",(function(t){var n=t.userId,a=t.line;n!==e.userId&&a.forEach((function(t){e.paint(t.start,t.stop,e.user1StrokeStyle)}))}))}},{key:"render",value:function(){var e=this;return r.a.createElement("canvas",{ref:function(t){return e.canvas=t},style:{background:"black",zIndex:"100000000000"},onMouseDown:function(t){return e.onMouseDown(t)},onMouseLeave:function(t){return e.endPaintEvent(t)},onMouseUp:function(t){return e.endPaintEvent(t)},onMouseMove:function(t){return e.onMouseMove(t)}})}}]),t}(a.Component),L=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",{className:"room-title"},"Painting Space"),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"color-guide"},r.a.createElement("button",{onClick:this.props.handleClick,className:"switch-button"},"Switch"))))}}]),t}(a.Component),X=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="hide";return this.props.menuVisibility&&(e="show"),r.a.createElement("div",{id:"flyoutMenu",onMouseDown:this.props.handleMouseDown,className:e},r.a.createElement("div",{className:"fly-container"},r.a.createElement(M,{currentUser:this.props.currentUser,users:this.props.currentRoom.users,room:this.props.currentRoom.name,className:"whosOnlineListContainer",sendDM:this.props.sendDM}),r.a.createElement(I,{currentRoom:this.props.currentRoom,currentUser:this.props.currentUser,subscribeToRoom:this.props.subscribeToRoom,rooms:this.props.rooms}),r.a.createElement(P,{createRoom:this.props.createRoom,currentUser:this.props.currentUser}),r.a.createElement(L,{handleClick:this.props.handleClick})))}}]),t}(a.Component),F=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={visible:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleMouseDown",value:function(e){this.toggleMenu(),e.stopPropagation()}},{key:"toggleMenu",value:function(){this.setState({visible:!this.state.visible})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"menu-container"},r.a.createElement(X,{handleMouseDown:function(t){return e.handleMouseDown},menuVisibility:this.state.visible,currentUser:this.props.currentUser,currentRoom:this.props.currentRoom,users:this.props.currentRoom.users,subscribeToRoom:this.props.subscribeToRoom,rooms:this.props.rooms,createRoom:this.props.createRoom,handleClick:this.props.handleClick,sendDM:this.props.sendDM}))}}]),t}(a.Component),J=n(139),V=n(140);n(78);function W(e){this.setState({pictures:this.state.pictures.concat(e)})}function B(){console.log(this.state.showImageUploadDialog),this.setState({showImageUploadDialog:!0})}function H(){this.setState({showImageUploadDialog:!1})}function q(e){e.preventDefault();var t=this.state,n=t.currentUser,a=t.fileUploadMessage,r=t.pictures,s=t.currentRoom;if(0!==r.length){var o=[];console.log(a),""!==a.trim()&&o.push({type:"text/plain",content:a}),r.forEach((function(e){o.push({file:e})})),n.sendMultipartMessage({roomId:"".concat(s.id),parts:o}),this.setState({fileUploadMessage:"",pictures:[],showImageUploadDialog:!1})}}function K(e){var t=e.split(" ")[0],n=e.slice(t.length);if("/news"===t)return $.call(this,n);alert("".concat(t," is not a valid command"))}function $(e){var t=this.state,n=t.currentUser,a=t.currentRoom;fetch("https://newsapi.org/v2/everything?q=".concat(e,"&pageSize=3&apiKey=2b676df86424467b88261f62eb567899")).then((function(e){return e.json()})).then((function(e){var t=[];e.articles.forEach((function(e){t.push({type:"text/plain",content:"".concat(e.title," - ").concat(e.source.name," - ").concat(e.url)})})),console.log(t),n.sendMultipartMessage({roomId:"".concat(a.id),parts:[t[0]]})})).catch(console.error)}var Q=n(47),Z=n.n(Q),ee=n(138),te=(n(34),function(e){var t=e.onDrop,n=e.closeImageUploadDialog,a=e.handleInput,s=e.fileUploadMessage,o=e.sendFile;e.sendMessage;return r.a.createElement("div",{className:"dialog-container"},r.a.createElement("div",{className:"file-dialog"},r.a.createElement("header",null,r.a.createElement("h4",null,"Upload an image"),r.a.createElement("button",{onClick:n,className:"btn"},r.a.createElement(ee.a,null))),r.a.createElement("form",{onSubmit:o},r.a.createElement("input",{placeholder:"Add a message about this image",type:"text",onChange:a,value:s,name:"fileUploadMessage"}),r.a.createElement(Z.a,{withIcon:!1,buttonText:"Choose images",onChange:t,imgExtension:[".jpg",".jpeg",".png",".gif"],maxFileSize:5242880,withPreview:!0}),r.a.createElement("button",{type:"submit",className:"submit-btn"},"Upload"))))}),ne=n(141),ae=(n(98),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={visible:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"menu-container"},r.a.createElement("div",{className:"info-cnt"},r.a.createElement("div",null,"#",this.props.currentRoom.name)),r.a.createElement("div",{className:"work-cnt"},r.a.createElement("div",null,"Members: ",this.props.currentRoom.userIds?this.props.currentRoom.userIds.length:null)))}}]),t}(a.Component)),re=n(48),se=n.n(re),oe=n(49),ie=n.n(oe),ce=(n(101),n(50)),ue=n.n(ce),le=n(13),me=n(51),pe=n.n(me),he=new ie.a;he.img_set="emojione",he.img_sets.emojione.path="https://cdn.jsdelivr.net/emojione/assets/3.0/png/32/",console.log(he.img_sets.emojione.path),he.supports_css=!1,he.allow_native=!1,he.init_env(),he.replace_mode="unified";var de=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={messages:[],currentRoom:{},roomId:"112f0357-01d9-4159-b900-a13dbda2c6cd",currentUser:{},typingUsers:[],chatInput:"",joinableRooms:[],joinedRooms:[],newMessage:"",paint:!1,rooms:[],pictures:[],showImageUploadDialog:!1,fileUploadMessage:"",showEmojiPicker:!1,openGiphyPicker:!1,emoji:[],gifs:[],language:"auto"},n.getRooms=n.getRooms.bind(Object(d.a)(n)),n.onDrop=W.bind(Object(d.a)(n)),n.openImageUploadDialog=B.bind(Object(d.a)(n)),n.closeImageUploadDialog=H.bind(Object(d.a)(n)),n.sendFile=q.bind(Object(d.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){return Promise.resolve()}},{key:"sendMessage",value:function(e){var t=[];this.state.newMessage.startsWith("/")&&K.call(this,this.state.newMessage),t.push({type:"text/plain",text:"".concat(this.state.newMessage),content:"".concat(this.state.newMessage)}),this.state.emoji&&this.state.emoji.forEach((function(e){t.push({url:e,type:"gif",className:"img-emoji"}),console.log(t)})),this.state.gifs&&this.state.gifs.forEach((function(e){t.push({url:e,type:"image/gif",className:"gif"}),console.log(t)})),this.state.chatInput&&e.sendMultipartMessage({roomId:this.state.currentRoom.id,parts:t}),this.setState({chatInput:"",emoji:[],parts:[],gifs:[],newMessage:""})}},{key:"handleInput",value:function(e){this.setState({fileUploadMessage:e.target.value})}},{key:"handleClick",value:function(){this.state.paint?this.setState({paint:!1}):this.setState({paint:!0})}},{key:"onSubmit",value:function(e){e.preventDefault(),this.sendMessage(this.state.currentUser)}},{key:"sendTypingEvent",value:function(e){this.state.currentUser.isTypingIn({roomId:this.state.roomId}).catch((function(e){return console.error("error",e)})),this.setState({chatInput:e.target.value,newMessage:e.target.value})}},{key:"getRooms",value:function(){var e=this;this.state.currentUser.getJoinableRooms().then((function(t){e.setState({joinableRooms:t,joinedRooms:e.state.currentUser.rooms})})).catch((function(e){return console.log("error on joinableRooms: ",e)}))}},{key:"subscribeToRoom",value:function(e){var t=this,n=this.state,a=n.currentUser,s=n.currentRoom;return this.setState({messages:[]}),a.subscribeToRoom({roomId:e,messageLimit:100,hooks:{onMessage:function(n){var o=t.state.messages;if(o.push(r.a.createElement(O,{currentUser:t.state.currentUser,media:n.attachment,time:Object(ne.a)(new Date("".concat(n.updatedAt)),"HH:mm"),key:t.state.messages.length,senderId:n.senderId,text:n.text,linktext:n.text.match(/\b(http|https)?:\/\/\S+/gi)||null})),t.setState({messages:o}),null!==s)return a.setReadCursor({roomId:e,position:n.id})},onRoomUpdated:function(e){var n=t.state.rooms,a=n.findIndex((function(t){return t.id===e.id}));n[a]=e,t.setState({rooms:n})},onUserStartedTyping:function(e){t.setState({typingUsers:[].concat(Object(h.a)(t.state.typingUsers),[e.name])})},onUserStoppedTyping:function(e){t.setState({typingUsers:t.state.typingUsers.filter((function(t){return t!==e.name}))})},onPresenceChange:function(){return t.forceUpdate()}}}).then((function(e){t.setState({currentRoom:e})})).then(this.getRooms()).catch((function(e){return console.error("error",e)}))}},{key:"showEmojiPicker",value:function(){this.setState({openEmojiPicker:!this.state.openEmojiPicker})}},{key:"showGiphyPicker",value:function(){this.setState({openGiphyPicker:!this.state.openGiphyPicker})}},{key:"sendDM",value:function(e){var t=this,n=(this.state.currentUser.rooms,"".concat(this.state.currentUser.id,"_").concat(e.id)),a=this.state.currentUser.rooms.filter((function(n){if(n.customData&&n.customData.isDirectMessage){var a=[t.state.currentUser.id,e.id],r=n.customData.userIds;if(a.sort().join("")===r.sort().join(""))return{room:n}}}));if(a.length>0){var r=a[0];return this.getRooms(),Promise.resolve(r)}this.state.currentUser.createRoom({name:n,private:!0,addUserIds:[e.id],userIds:[this.state.currentUser.id,e.id],users:[this.state.currentUser.id,e.id],customData:{isDirectMessage:!0,userIds:[this.state.currentUser.id,e.id]}}).then((function(e){return t.subscribeToRoom(e.id)})).then((function(t){return e.subscribeToRoom(t.id)})).then(this.getRooms()).catch((function(e){return console.log("error with createRoom: ",e)}))}},{key:"addEmoji",value:function(e,t,n){var a=this.state.newMessage,r=(he.replace_colons(":".concat(t.name,":")),"".concat(a,":").concat(t.name,":")),s="".concat(he.img_sets.emojione.path).concat(t.unified,".png");this.setState({openEmojiPicker:!1,chatInput:"".concat(this.state.chatInput).concat(r),newMessage:"".concat(this.state.chatInput),emoji:[].concat(Object(h.a)(this.state.emoji),[s])})}},{key:"createRoom",value:function(e){var t=this;this.state.currentUser.createRoom({name:e,addUserIds:Object(h.a)(this.state.currentUser.users.map((function(e){return e.id}))),customData:{isDirectMessage:!1}}).then((function(e){return t.subscribeToRoom(e.id)})).then(this.getRooms()).catch((function(e){return console.lo2g("error with createRoom: ",e)}))}},{key:"componentDidMount",value:function(){var e=this;new b.a.ChatManager({instanceLocator:"v1:us1:bca0fa4c-b9c7-4478-a63d-ad0d81584e73",userId:this.props.currentUsername,tokenProvider:new b.a.TokenProvider({url:"https://us1.pusherplatform.io/services/chatkit_token_provider/v1/bca0fa4c-b9c7-4478-a63d-ad0d81584e73/token"})}).connect().then((function(t){e.setState({currentUser:t}),e.getRooms(),e.subscribeToRoom(e.state.roomId)})).catch((function(e){return console.error("error",e)}))}},{key:"log",value:function(e){this.setState({chatInput:[e.downsized.url],gifs:[e.downsized.url],openGiphyPicker:!this.state.openGiphyPicker})}},{key:"render",value:function(){var e=this,t=this.state,n=t.currentUser,a=t.currentRoom,s=t.joinableRooms,o=t.joinedRooms,i=t.roomId,c=t.paint,u=t.typingUsers,l=t.messages,m=t.chatInput,p=t.showImageUploadDialog,d=t.fileUploadMessage,f=t.openEmojiPicker,b=(t.newMessage,t.openGiphyPicker),g=(t.language,Object(le.css)({height:"100%",width:"100%"}));return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"sidebar-container"},r.a.createElement(F,{currentUser:n,users:a.users,subscribeToRoom:function(t){return e.subscribeToRoom(t)},currentRoom:a,rooms:[].concat(Object(h.a)(s),Object(h.a)(o)),roomId:i,createRoom:function(t){return e.createRoom(t)},handleClick:function(t){return e.handleClick(t)},sendDM:function(t){return e.sendDM(t)},handleMouseDown:function(t){return e.handleMouseDown(t)}})),r.a.createElement("div",{className:"messanger-container"},r.a.createElement("div",{className:"upper-container"},r.a.createElement(ae,{currentUser:n,users:a.users,currentRoom:a,rooms:[].concat(Object(h.a)(s),Object(h.a)(o)),roomId:i})),r.a.createElement("div",{className:"lower-container"},r.a.createElement("div",{className:"main-body-wrapper"},!0===c?r.a.createElement(G,{currentUser:n}):r.a.createElement("div",{className:"messages-list"},r.a.createElement("ul",{className:"messages"},r.a.createElement(pe.a,{className:g},l)))),r.a.createElement("div",{className:"side-container"},"Jestem z boku!")),r.a.createElement("div",{className:"bottom-cnt"},r.a.createElement("div",{className:"wrap"},r.a.createElement("form",{id:"chat-form",className:"composer-container",value:m,onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("button",{onClick:this.openImageUploadDialog,type:"button",className:"btn image-picker"},r.a.createElement(J.a,null)," "),r.a.createElement("div",{style:{width:"100%",minHeight:"0",display:"flex",border:"1px solid black",borderRadius:"5px"}},r.a.createElement("input",{type:"text",className:"composer",placeholder:"Type message...",name:"",value:m,autoFocus:!0,onChange:function(t){return e.sendTypingEvent(t)}}),r.a.createElement("button",{onClick:function(t){return e.showEmojiPicker(t)},type:"button",className:"btn emoi-picker"},r.a.createElement(V.a,{style:{backgroundColor:"#fff"}})),r.a.createElement("button",{type:"button",className:"giphy-button",onClick:function(t){return e.showGiphyPicker(t)}},r.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"icons",className:"svg-inline--fa fa-icons fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.a.createElement("path",{fill:"currentColor",d:"M116.65 219.35a15.68 15.68 0 0 0 22.65 0l96.75-99.83c28.15-29 26.5-77.1-4.91-103.88C203.75-7.7 163-3.5 137.86 22.44L128 32.58l-9.85-10.14C93.05-3.5 52.25-7.7 24.86 15.64c-31.41 26.78-33 74.85-5 103.88zm143.92 100.49h-48l-7.08-14.24a27.39 27.39 0 0 0-25.66-17.78h-71.71a27.39 27.39 0 0 0-25.66 17.78l-7 14.24h-48A27.45 27.45 0 0 0 0 347.3v137.25A27.44 27.44 0 0 0 27.43 512h233.14A27.45 27.45 0 0 0 288 484.55V347.3a27.45 27.45 0 0 0-27.43-27.46zM144 468a52 52 0 1 1 52-52 52 52 0 0 1-52 52zm355.4-115.9h-60.58l22.36-50.75c2.1-6.65-3.93-13.21-12.18-13.21h-75.59c-6.3 0-11.66 3.9-12.5 9.1l-16.8 106.93c-1 6.3 4.88 11.89 12.5 11.89h62.31l-24.2 83c-1.89 6.65 4.2 12.9 12.23 12.9a13.26 13.26 0 0 0 10.92-5.25l92.4-138.91c4.88-6.91-1.16-15.7-10.87-15.7zM478.08.33L329.51 23.17C314.87 25.42 304 38.92 304 54.83V161.6a83.25 83.25 0 0 0-16-1.7c-35.35 0-64 21.48-64 48s28.65 48 64 48c35.2 0 63.73-21.32 64-47.66V99.66l112-17.22v47.18a83.25 83.25 0 0 0-16-1.7c-35.35 0-64 21.48-64 48s28.65 48 64 48c35.2 0 63.73-21.32 64-47.66V32c0-19.48-16-34.42-33.92-31.67z"}))))),r.a.createElement(k,{typingUsers:u}),b?r.a.createElement("div",{className:"giphy-dialog"},r.a.createElement(ue.a,{onSelected:this.log.bind(this)})):null,f?r.a.createElement("div",{className:"dialog-emoji-container"},r.a.createElement("div",{className:"dialog-emoji"},r.a.createElement(se.a,{onEmojiClick:function(t,n,a){return e.addEmoji(t,n,a)}}))):null,p?r.a.createElement(te,{handleInput:function(t){return e.handleInput(t)},fileUploadMessage:d,onDrop:this.onDrop,sendFile:this.sendFile,closeImageUploadDialog:this.closeImageUploadDialog}):null))))}}]),t}(a.Component),fe=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={currentUsername:"User",visibleScreen:"Chat"},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onUsernameSubmitted",value:function(e,t){var n=this;fetch("http:localhost:4000/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(t){n.setState({currentUsername:e,visibleScreen:"Chat"})})).catch((function(e){return console.error("error",e)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.visibleScreen,a=t.currentUsername;return"getUsernameScreen"===n?r.a.createElement(p,{onSubmit:function(t){return e.onUsernameSubmitted(t)}}):"Chat"===n?r.a.createElement(de,{currentUsername:a}):void 0}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},17:function(e,t,n){},18:function(e,t,n){},25:function(e,t,n){},34:function(e,t,n){},43:function(e,t,n){e.exports=n.p+"static/media/annabelle.d5f1cd84.png"},44:function(e,t,n){e.exports=n.p+"static/media/yoda.5db778e4.png"},53:function(e,t,n){e.exports=n(135)},58:function(e,t,n){},59:function(e,t,n){},73:function(e,t,n){},98:function(e,t,n){}},[[53,1,2]]]);
//# sourceMappingURL=main.4c246324.chunk.js.map